# Full-stack app - Node.js + Express + MongoDB + Vue.js

This is a small full-stack app developed in JavaScript using Express and MongoDB on backend, and Vite & Vue.js on frontend. It provides API operations for a simple House model and with state management on frontend.

For German version go to section: [Deutsche Version](#deutsche-version). \
Die deutsche Version finden Sie im Abschnitt: [Deutsche Version](#deutsche-version).

## Technical specs

- Node.js + Express for the server app
- MongoDB in cloud for data storage
- Mongoose models with validation
- API endpoints for a House model
- Vue.js framework for the frontend
- Vite for dev and build processes
- Vue Router for controlling the routing in the browser
- Pinia for data & state management
- Tailwind, Prime Vue and Prime icons for client view's layout and styling

## Quick start

Prerequisites

- Node.js: [Node docs](https://nodejs.org/en/download)
- pnpm (or npm): [pnpm docs](https://pnpm.io/installation/)
- MongoDB account: [Create account](https://account.mongodb.com/account/login)

Install dependencies

The following instructions are for pnpm package manager (run the command in each of the folders, backend and frontend, in order to install the necessary packages for server and client apps). Similar instructions can be used also with npm or even yarn. 

```
pnpm install
```

Create an `.env` file in the root of each of the folders: backend and frontend. An `.env.example` file is saved as reference and as an example with the necessary variables. Detailed explanations will be provided later for each part of the app.

Starting and running the application: go to section [Run the application](#run-the-application).

## 1. Backend

The server application is in `backend/app.js` developed with Express.js. The database connection is performed using Mongoose ODM. The API endpoints are built with an Express Router object.

### Environment variables

- `HOSTNAME` - in development mode is usually *localhost*
- `PORT` - HTTP port (defaults to *3000*)
- `HOST_URL` - full address URL of the server
- `MONGODBURI` - MongoDB connection string (example: `mongodb+srv://ProjectUserName:ProjectPassWord@ClusterName.id123.mongodb.net/DatabaseName?appName=ClusterName&retryWrites=true`)\
where:\
*ProjectUserName* - username created in MongoDB cloud for the project where the database is located\
*ProjectPassWord* - the password for the above user\
*ClusterName* - the name of the cluster where are all the projects (usually generated by MongoDB)\
*id123* - it's an identification code generated by MongoDB when you create this MongoDB connection string\
*DatabaseName* - the name of database to work in

### API

Base URL: `http://localhost:3000` (or the `PORT` you set)

Endpoints (implemented in `backend/routes/HouseRouter.js`):

- POST /houses\
(Create a house.)

- GET /houses\
(Get the full list of houses.)

- GET /houses/:id\
(Get the data for a house.)

- PUT /houses/:id\
(Edit a house's data.)

- DELETE /houses/:id\
(Delete a house.)

House model fields (from `backend/models/house.js`)

- `name` (string, required)
- `description` (string, optional)
- `address` (object, optional). With subfields: `street`, `number`, `postalCode`, `city`, `country`.
- `rooms` (number, required)
- `heatingSystem` (object). With subfields: `inBuilding`, `productModel`, `functionType`, `remoteAccess`.\
where *inBuilding* is boolean and is a required field.

### Project structure

- `backend/` - source files
  - `app.js` - server start + Express server configuration
  - `database/` - MongoDB connection and configurations
  - `routes/` - Express routes (`HouseRouter.js`)
  - `models/` - Mongoose models (`house.js`)
  - `.env` - environment variables file
  - `package.json` - scripts and dependencies

## 2. Frontend

The client application is in `frontend/` folder and is developed with Vue.js framework. Vue Router is used for processing the address URLs on the client side and controlling the browsing between app's pages. API consuming is performed with Axios library. Data and state management is performed with Pinia. For styling the application and creating the layouts, the following are used: Tailwind, Prime Vue and Prime icon + CSS scoped styles in the components.

### Environment variables

- `VITE_API_BASE_URL` - server API URL\
(for development is *http://localhost:3000/api*)

### Client side routes

The following are the available routes (paths) in the client side app:

- `/` - root (app homepage)
  - `/house/:id` - page of a house
  - `/create-house` - create house form page
  - `/house-edit/:id` - editing a house
  - `/:notfound` - Not Found page (404 page)

### Project structure

- `frontend/src/` - source files
  - `App.vue` - client app entry point
  - `main.js` - client app configurations
  - `style.css` - app general styling + CSS default values
  - `assets/` - images, icons and other assets files
  - `components/` - Vue components files
  - `config/` - configuration files across the app (for example configuration for an Axios instance)
  - `router/` - the list of client app routes (paths)
  - `store/` - stores for state management
  - `views/` - the client app main pages (views)
- `.env` - environment variables file
- `package.json` - scripts and dependencies

## Run the application

Go to backend folder and run `npm run dev`. This command will start the scripts for both environments, server and client. It will check for any changes on the backend or frontend, and it will restart automatically the environments.

Backend: 

https://github.com/lpostelnicu/smart-home/tree/main/backend

Frontend:

https://github.com/lpostelnicu/smart-home/tree/main/frontend

## Deutsche Version

Diese ist eine kleine Full-Stack-Anwendung, die in JavaScript unter Verwendung von Express und MongoDB im Backend und Vite & Vue.js im Frontend entwickelt wurde. Sie bietet API-Operationen für ein einfaches Hausmodell und mit Statusverwaltung im Frontend.

## Technical specs

- Node.js + Express für die Serveranwendung
- MongoDB in der Cloud für die Datenspeicherung
- Mongoose-Modelle mit Validierung
- API-Endpunkte für ein Hausmodell
- Vue.js-Framework für das Frontend
- Vite für Entwicklungs- und Build-Prozesse
- Vue Router für das Routing im Browser
- Pinia für Daten- und Zustandsverwaltung
- Tailwind, PrimeVue und PrimeIcons für Layout und Styling der Clientansicht

## Quick start

Prerequisites

- Node.js: [Node docs](https://nodejs.org/en/download)
- pnpm (or npm): [pnpm docs](https://pnpm.io/installation/)
- MongoDB account: [Create account](https://account.mongodb.com/account/login)

Abhängigkeiten installieren

Die folgenden Anweisungen gelten für den Paketmanager pnpm (führen Sie den Befehl in den Ordnern „backend“ und „frontend“ aus, um die benötigten Pakete für Server- und Client-Anwendungen zu installieren). Ähnliche Anweisungen können auch für npm oder yarn verwendet werden. 

```
pnpm install
```

Erstellen Sie in den Stammverzeichnissen der Ordner backend und frontend jeweils eine `.env`-Datei. Eine `.env.example`-Datei mit den benötigten Variablen dient als Referenz und Beispiel. Ausführliche Erläuterungen zu den einzelnen Teilen der Anwendung folgen später.

Starten und Ausführen der Anwendung: Siehe Abschnitt [Starten die Anwendung](#starten-die-anwendung).

## 1. Backend

Die Serveranwendung befindet sich in `backend/app.js` und wurde mit Express.js entwickelt. Die Datenbankverbindung wird über Mongoose ODM hergestellt. Die API-Endpunkte werden mit einem Express-Router-Objekt erstellt.

### Environment variables

- `HOSTNAME` - im Entwicklungsmodus üblicherweise *localhost*
- `PORT` - HTTP port (Standardwert: *3000*)
- `HOST_URL` - vollständige URL des Servers
- `MONGODBURI` - MongoDB-Verbindungszeichenfolge (Beispiel:: `mongodb+srv://ProjectUserName:ProjectPassWord@ClusterName.id123.mongodb.net/DatabaseName?appName=ClusterName&retryWrites=true`)\
where:\
*ProjectUserName* - Benutzername, der in der MongoDB-Cloud für das Projekt erstellt wurde, in dem sich die Datenbank befindet.\
*ProjectPassWord* - Das Passwort für den oben genannten Benutzer.\
*ClusterName* - Der Name des Clusters, in dem sich alle Projekte befinden (wird üblicherweise von MongoDB generiert).\
*id123* - Ein Identifikationscode, der von MongoDB beim Erstellen dieser MongoDB-Verbindungszeichenfolge generiert wird.\
*DatabaseName* - Der Name der Datenbank, in der gearbeitet werden soll.

### API

Base URL: `http://localhost:3000` (or the `PORT` you set)

Endpoints (implemented in `backend/routes/HouseRouter.js`):

- POST /houses\
(Haus erstellen.)

- GET /houses\
(Vollständige Liste der Häuser abrufen.)

- GET /houses/:id\
(Daten eines Hauses abrufen.)

- PUT /houses/:id\
(Daten eines Hauses bearbeiten.)

- DELETE /houses/:id\
(Haus löschen.)

Felder des Hausmodells (from `backend/models/house.js`)

- `name` (string, required)
- `description` (string, optional)
- `address` (object, optional). With subfields: `street`, `number`, `postalCode`, `city`, `country`.
- `rooms` (number, required)
- `heatingSystem` (object). Mit Unterfeldern: `inBuilding`, `productModel`, `functionType`, `remoteAccess`.\
wwobei *inBuilding* ein boolescher Wert und ein Pflichtfeld ist.

### Project structure

- `backend/` - Quelldateien
  - `app.js` - Serverstart + Express-Serverkonfiguration
  - `database/` - MongoDB-Verbindung und -Konfiguration
  - `routes/` - Express-Routen (`HouseRouter.js`)
  - `models/` - Mongoose-Modelle (`house.js`)
  - `.env` - Umgebungsvariablen
  - `package.json` - Skripte und Abhängigkeiten

## 2. Frontend

Die Client-Anwendung befindet sich im Ordner `frontend/` und wurde mit dem Vue.js-Framework entwickelt. Vue Router verarbeitet clientseitig die Adress-URLs und steuert das Navigieren zwischen den Seiten der Anwendung. Die API-Nutzung erfolgt mit der Axios-Bibliothek. Daten- und Zustandsverwaltung werden mit Pinia durchgeführt. Für das Styling der Anwendung und die Erstellung der Layouts werden Tailwind, PrimeVue und Prime Icons sowie CSS-basierte Stile in den Komponenten verwendet.

### Environment variables

- `VITE_API_BASE_URL` - server API URL\
(für die Entwicklung ist *http://localhost:3000/api*)

### Client side routes

Folgende Routen (Pfade) stehen in der clientseitigen Anwendung zur Verfügung:

- `/` - root (app homepage)
  - `/house/:id` - page of a house
  - `/create-house` - create house form page
  - `/house-edit/:id` - editing a house
  - `/:notfound` - Not Found page (404 page)

### Project structure

- `frontend/src/` - Quelldateien
  - `App.vue` - Einstiegspunkt der Client-Anwendung
  - `main.js` - Konfigurationen der Client-Anwendung
  - `style.css` - Allgemeines Styling der Anwendung + CSS-Standardwerte
  - `assets/` - Bilder, Icons und andere Assets
  - `components/` - Vue-Komponentendateien
  - `config/` - Konfigurationsdateien der Anwendung (z. B. Konfiguration für eine Axios-Instanz)
  - `router/` - Liste der Routen (Pfade) der Client-Anwendung
  - `store/` - Stores für die Zustandsverwaltung
  - `views/` - Die Hauptseiten (Views) der Client-Anwendung
- `.env` - Datei mit Umgebungsvariablen
- `package.json` - Skripte und Abhängigkeiten

## Starten die Anwendung

Wechseln Sie in den Backend-Ordner und führen Sie `npm run dev` aus. Dieser Befehl startet die Skripte für Server und Client. Er prüft auf Änderungen im Backend oder Frontend und startet die Umgebungen automatisch neu.

Backend: 

https://github.com/lpostelnicu/smart-home/tree/main/backend

Frontend:

https://github.com/lpostelnicu/smart-home/tree/main/frontend

